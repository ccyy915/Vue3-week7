{"version":3,"sources":["webpack:///./src/views/Login.vue","webpack:///./src/views/Login.vue?835e"],"names":["class","style","for","type","id","login","user","username","placeholder","required","autofocus","password","name","methods","url","this","$http","post","then","res","console","log","data","success","token","expired","document","cookie","Date","$router","push","alert","message","render"],"mappings":"0IAEIA,MAAM,qCACNC,MAAA,kU,GAUED,MAAM,6E,GAEDA,MAAM,OAAOC,MAAA,iB,GACXD,MAAM,a,EACT,eAA4D,MAAxDA,MAAM,0CAAyC,QAAI,G,GAEhDA,MAAM,sB,EAUT,eAA2C,SAApCE,IAAI,YAAW,iBAAa,G,GAEhCF,MAAM,iB,EAST,eAAsC,SAA/BE,IAAI,YAAW,YAAQ,G,EAEhC,eAMS,UALPF,MAAM,kCACNG,KAAK,SACLC,GAAG,gBACJ,QAED,G,gDA/CV,eAoDM,MApDN,EAoDM,CAzCJ,eAwCM,MAxCN,EAwCM,CArCJ,eAoCM,MApCN,EAoCM,CAnCJ,eAkCM,MAlCN,EAkCM,CAjCJ,EACA,eA+BO,QA/BDA,GAAG,OAAOJ,MAAM,cAAe,SAAM,8CAAU,EAAAK,OAAA,EAAAA,MAAA,qBAAK,e,CACxD,eAWM,MAXN,EAWM,C,eAVJ,eAQE,SAPAF,KAAK,QACLH,MAAM,eACNI,GAAG,W,qDACM,EAAAE,KAAKC,SAAQ,IACtBC,YAAY,mBACZC,SAAA,GACAC,UAAA,I,mBAHS,EAAAJ,KAAKC,YAKhB,IAEF,eAUM,MAVN,EAUM,C,eATJ,eAOE,SANAJ,KAAK,WACLH,MAAM,eACNI,GAAG,W,qDACM,EAAAE,KAAKK,SAAQ,IACtBH,YAAY,WACZC,SAAA,I,mBAFS,EAAAH,KAAKK,YAIhB,IAEF,G,YAeG,OACbC,KAAM,QACN,OACE,MAAO,CACLN,KAAM,KAGVO,QAAS,CACP,QACE,MAAMC,EAAM,oDACZC,KAAKC,MAAMC,KAAKH,EAAKC,KAAKT,MAAMY,KAAMC,IAEpC,GADAC,QAAQC,IAAIF,GACRA,EAAIG,KAAKC,QAAS,CACpB,MAAM,MAAEC,EAAK,QAAEC,GAAYN,EAAIG,KAC/BI,SAASC,OAAS,YAAYH,aAAiB,IAAII,KAAKH,MACxDV,KAAKc,QAAQC,KAAK,wBAElBC,MAAMZ,EAAIG,KAAKU,cCvEzB,EAAOC,OAASA,EAED","file":"js/chunk-2d2086b7.73fd7212.js","sourcesContent":["<template>\n  <div\n    class=\"position-relative w-100 min-vh-100\"\n    style=\"\n      background-image: url('https://images.unsplash.com/photo-1529720317453-c8da503f2051?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=2850&q=80');\n      background-repeat: no-repeat;\n      background-size: cover;\n      background-attachment: fixed;\n      background-position: 50%;\n      opacity: 0.7;\n    \"\n  >\n    <div\n      class=\"position-relative d-flex justify-content-center align-items-center vh-100\"\n    >\n      <div class=\"card\" style=\"width: 18rem\">\n        <div class=\"card-body\">\n          <h1 class=\"h3 mb-3 font-weight-normal text-center\">請先登入</h1>\n          <form id=\"form\" class=\"form-signin\" @submit.prevent=\"login\">\n            <div class=\"form-floating mb-3\">\n              <input\n                type=\"email\"\n                class=\"form-control\"\n                id=\"username\"\n                v-model=\"user.username\"\n                placeholder=\"name@example.com\"\n                required\n                autofocus\n              />\n              <label for=\"username\">Email address</label>\n            </div>\n            <div class=\"form-floating\">\n              <input\n                type=\"password\"\n                class=\"form-control\"\n                id=\"password\"\n                v-model=\"user.password\"\n                placeholder=\"Password\"\n                required\n              />\n              <label for=\"password\">Password</label>\n            </div>\n            <button\n              class=\"btn btn-outline-dark w-100 mt-3\"\n              type=\"submit\"\n              id=\"login-submit\"\n            >\n              登入\n            </button>\n          </form>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nexport default {\n  name: \"Login\",\n  data() {\n    return {\n      user: {},\n    };\n  },\n  methods: {\n    login() {\n      const url = `${process.env.VUE_APP_API}admin/signin`;\n      this.$http.post(url, this.user).then((res) => {\n        console.log(res);\n        if (res.data.success) {\n          const { token, expired } = res.data;\n          document.cookie = `hexToken=${token};expires=${new Date(expired)};`;\n          this.$router.push(\"/admin/products\");\n        } else {\n          alert(res.data.message);\n        }\n      });\n    },\n  },\n};\n</script>\n","import { render } from \"./Login.vue?vue&type=template&id=5a51b956\"\nimport script from \"./Login.vue?vue&type=script&lang=ts\"\nexport * from \"./Login.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}